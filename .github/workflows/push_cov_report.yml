name: 'Deploy Coverage Report'

on:
  push:
    branches: [ _main ]
    
jobs:            
  Deploy_Coverage_Report:
        runs-on: ubuntu-latest

        strategy:
          matrix:
            node-version: [16.x]

        steps:
            - name: Checkout 🛎️
              uses: actions/checkout@v3

            - name: Install and Build
              run: npm ci ; npm run test:cov

            - name: Deploy 🚀
              uses: JamesIves/github-pages-deploy-action@v4
              with:
                branch: gh-pages
                folder: coverage/lcov-report